# Mystic Chess Bot

<p align="center">
 <img style="border-radius: 50%" width="250px" src="./src/MetaAIGen.jpg" align="center" alt="Mystic bot (Generated By MetaAI)" />
</p>
  <p align="center">
    <a href="https://github.com/shashankp28/mystic-bot/actions">
      <img alt="Tests Passing" src="https://github.com/shashankp28/mystic-bot/actions/workflows/rust.yml/badge.svg" />
    </a>
    <a href="https://github.com/shashankp28/mystic-bot/graphs/contributors">
      <img alt="GitHub Contributors" src="https://img.shields.io/github/contributors/shashankp28/mystic-bot" />
    </a>
    <a href="https://github.com/shashankp28/mystic-bot/issues">
      <img alt="Issues" src="https://img.shields.io/github/issues/shashankp28/mystic-bot?color=0088ff" />
    </a>
    <a href="https://github.com/shashankp28/mystic-bot/pulls">
      <img alt="GitHub pull requests" src="https://img.shields.io/github/issues-pr/shashankp28/mystic-bot?color=0088ff" />
    </a>
    <a href="https://securityscorecards.dev/viewer/?uri=github.com/shashankp28/mystic-bot">
      <img alt="OpenSSF Scorecard" src="https://api.securityscorecards.dev/projects/github.com/shashankp28/mystic-bot/badge" />
    </a>
    <br />
    <br />
  </p>
</p>

A **simple yet powerful Chess Bot** written in **Rust**, designed for efficiency and scalability.

The bot currently has an account on **Lichess**: [MysticBot](https://lichess.org/@/MysticBot).

> ⚠️ Note: The bot is **not running constantly** due to budget constraints.

## Getting Started

0. **Clone the Repository**  
   Start by cloning the repository to your local system:

   ```bash
   git clone https://github.com/shashankp28/mystic-bot.git
   ```

1. **Install Python Dependencies**  
   Ensure you have Python installed, then install the required dependencies:

   ```bash
   pip install -r requirements.txt
   ```

2. **Build the Bot Using Cargo**  
   Use **cargo** to build the bot for optimized performance:

   ```bash
   cd mystic-bot
   cargo build --release
   ```

3. **Run the Bot Independently**  
   After building, you can start the RestAPI server for the engine directly:

   ```bash
   cargo run -- --port <port>  # or
   ./target/release/mystic-bot --port <port>
   ```

   ![Bot Running Example](./src/bot.png)

4. **Configure Lichess API Key**  
   To connect the bot to your Lichess account:
   - Open the `config.yml.default` file.
   - Replace the placeholder `xxxxxxxxxxxxxxxxxxxxxx` with your Lichess API key:
     ```yml
     token: "your_lichess_api_key"
     ```
   - Rename the file to `config.yml` and make the necessary changes:
     ```bash
     mv config.yml.default config.yml
     ```
   - Run the bot using the following command:
     ```bash
     python lichess-bot.py -u
     ```

Follow these steps to set up and enjoy playing with **Mystic Chess Bot**! ♟️✨

### API Docs: [Postman](https://documenter.getpostman.com/view/23661720/2sB3B7MtST)

## Bot Overview

The engine uses Rust `chess` chrater to generate moves

### 1. Opening Database

- The bot uses an opening database containing **0.8 million+** chess positions.
- For the first few moves, the bot looks up this database to instantly play the best-known responses.
- This enables quick and accurate moves in the opening phase, saving computation time for later stages of the game.

### 2. Search Algorithm

The bot implements a search algorithm using a combination of:

- **Dynamic time keeping**: Plays slower if more time is available, and faster if less
- **Iterative Deepening**: Calculates different depths based on time available
- **Alpha-beta pruning**: Prunes unnecessary branches in the search tree.
- **Move Ordering**: Orders moves based on checks / captures / attacks, to aid AB pruning

Key features:

- Evaluates **300,000+** positions per second on an average.
- Evaluates to **5-6+** positional game depth.
- Dynamically adjusts search depth:
  - **Midgames**: Searches to a depth of **5–6 moves**.
  - **Endgames**: Increases search depth to **10-11 moves**.

### 3. Heuristics

The evaluation function combines:

- **Static piece values**: Assigns scores to pieces (e.g., Pawns, Knights, Bishops, etc.).
- **Positional values**: Evaluates the strategic placement of pieces on the board.

For reference, the scoring is inspired by this [website](https://www.chessprogramming.org/Piece-Square_Tables).

**_⚠️ Currently, the bot does not use neural networks and hence does not learn from games. Future work may include integrating a learning-based system to enhance performance._**

### 4. Future Enhancements

- **Neural Network Integration**: To enable adaptive learning and improve decision-making
- **Endgame Tablebases**: For perfect endgame play
- **Better Algorithm**: Better evaluation function, better search algorithm
- **Cross-Platform Support**: Ensuring compatibility across Windows, Linux, and macOS

## Contact

For any inquiries or support, feel free to reach out to: **shashankp2832@gmail.com** / **anandishegde@gmail.com**

## License

**Mystic Bot** is licensed under the **MIT License**.  
You can check out the full text of the MIT License in the [LICENSE file](https://github.com/shashankp28/mystic-bot/blob/main/LICENSE).

Additionally, this project may include code from [Lichess Bot](https://github.com/lichess-bot-devs/lichess-bot), which is also licensed under the AGPLv3.  
Please refer to the [Lichess Bot LICENSE](https://github.com/lichess-bot-devs/lichess-bot/blob/master/LICENSE) for more information.
